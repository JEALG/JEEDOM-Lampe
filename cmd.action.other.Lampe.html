<div style="width:90px;min-height:62px;margin-bottom: -5px" class="cmd #history# tooltips cmd-widget cursor" data-type="action" data-subtype="binary" data-cmd_id="#id#" data-cmd_uid="#uid#" data-eqLogic_id="#eqLogic_id#" data-eqLogic_id="#eqLogic_id#" title="#collectDate#">
	<!-- Info Widget
		Basé sur les widget de 		: ksoul78 / jimmy / snow51
		Mise à jour 			: JAG 20190317 : ajout centrer widget (merci à Antoinekl1)
	-->
	<center>
    	<div class="row">
		<center>
		<div class='cmdName' id="cmdName#id#" style="font-weight:bold;font-size:10px;#hideCmdName#;margin-bottom: -5px">#valueName#</div>
      		<div class="btn btn-sm action cmdName tooltips" title="#name#"></div>
		</center>
	</div>
	</center>
	<script>
      	// Paramètrage du logo
  			// Valeur pour ON ou 1
      				var srcImglogoON		= ('#logoON#'!='#'+'logoON#') ? "#logoON#" : "light-garden-on";
	  				var srcImglogoON_T 	= ('#logoON_type#'!='#'+'logoON_type#') ? "#logoON_type#" : "png";
  			// Valeur pour OFF ou 0
      				var srcImglogoOFF	= ('#logoOFF#'!='#'+'logoOFF#') ? "#logoOFF#" : "light-garden-off";
	  				var srcImglogoOFF_T 	= ('#logoOFF_type#'!='#'+'logoOFF_type#') ? "#logoOFF_type#" : "png";
      	// Paramètre "sizehw" : à déclarer en pixels - 92 maxi
      				var srcImgHeight		= (is_numeric('#sizehw#')) ? parseFloat('#sizehw#') : 80;
      				var srcImgWidth 		= (is_numeric('#sizehw#')) ? parseFloat('#sizehw#') : 80;
        // Paramétrage des images
        				var srcImgURL 		= 'plugins/widget/core/template/dashboard/cmd.action.other.Lampe/';
                     var srcImgOn 		= srcImgURL + srcImglogoON +'.'+ srcImglogoON_T; 	// Pour Valeur = 1
                     var srcImgOff 		= srcImgURL + srcImglogoOFF +'.'+ srcImglogoOFF_T;  	// Pour valeur = 0    
      
	if(jeedom.cmd.normalizeName('#name#') == 'on'){
		if('#state#' != ''){
			$('.cmd[data-cmd_uid=#uid#] .btn').append('<img src="'+srcImgOff+'" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
	  	}else{
			$('.cmd[data-cmd_uid=#uid#] .btn').append('<img src="'+srcImgOn+'" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
		}
	}else{
		if('#state#' != ''){
			$('.cmd[data-cmd_uid=#uid#] .btn').append('<img src="'+srcImgOn+'" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
	  	}else{
			$('.cmd[data-cmd_uid=#uid#] .btn').append('<img src="'+srcImgOff+'"style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
	  	}
	}
	
	jeedom.cmd.update['#id#'] = function(_options){      
		if(parseInt(_options.display_value) != 'NaN'){
			if(jeedom.cmd.normalizeName('#name#') == 'on'){
				if(parseInt(_options.display_value) >= 1 ) {
					$('.cmd[data-cmd_uid=#uid#]').hide();
				}else{
					$('.cmd[data-cmd_uid=#uid#]').show();
				}
			}else{
				if(parseInt(_options.display_value) <= 0 ) {
					  $('.cmd[data-cmd_uid=#uid#]').hide();
			 	}else{
					  $('.cmd[data-cmd_uid=#uid#]').show();
			 	}
			}
		}
	}
    
	jeedom.cmd.update['#id#']({display_value:'#state#'});
	
	$('.cmd[data-cmd_uid=#uid#]:last .action').on('click', function () {
		jeedom.cmd.execute({id: '#id#'});
	});
	</script>
</div>