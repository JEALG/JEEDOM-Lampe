<div style="width:90px;min-height:62px;margin-bottom: -5px" class="cmd reportModeHidden #history# tooltips cmd-widget cursor" data-type="action" data-subtype="other" data-cmd_id="#id#" data-cmd_uid="#uid#" data-eqLogic_id="#eqLogic_id#" data-eqLogic_id="#eqLogic_id#" data-version="#version#" title="#collectDate#">
	<!-- Info Widget
		Basé sur les widget de 		: ksoul78 / jimmy / snow51
		Mise à jour 				: JAG 20190428 : Simplification code
	-->
    <div class="row">
		<center>
		<div class='cmdName' id="cmdName#id#" style="font-weight:bold;font-size:10px;#hideCmdName#;margin-bottom: -5px">#valueName#</div>
      		<div class="iconCmd#uid# btn btn-sm action cmdName tooltips" title="#name#"></div>
		</center>
	</div>
</div>
<script>
      	// Paramètrage du logo
  			// Valeur pour ON ou 1
      				var srcImglogo		= ('#logoON#'!='#'+'logoON#') ? "#logoON#" : "Lampe";
	  				var srcImglogo_T 	= ('#logoON_type#'!='#'+'logoON_type#') ? "#logoON_type#" : "png";
      	// Paramètre "sizeh" & "sizew"
      				var srcImgHeight	= is_numeric('#sizeh#') ? parseFloat('#sizeh#'):80;
      				var srcImgWidth 	= is_numeric('#sizew#') ? parseFloat('#sizew#'):80;
  					var srcImgSize 		= 'height='+srcImgHeight+'px width='+srcImgWidth+'px';
        // Paramétrage des images
                    var srcImgURL 		= 'plugins/widget/core/template/dashboard/cmd.action.other.Lampe/';
                    var srcImgOn 		= srcImgURL + srcImglogo+'-ON.'+ srcImglogo_T;
                    var srcImgOff 		= srcImgURL + srcImglogo+'-OFF.'+ srcImglogo_T;   
  
 if(jeedom.cmd.normalizeName('#name#') == 'on'){
	if('#state#' != ''){
		$('.cmd[data-cmd_uid=#uid#] .iconCmd#uid#').append('<img src="'+srcImgOff+'" '+srcImgSize+'>');
	} else{
		$('.cmd[data-cmd_uid=#uid#] .iconCmd#uid#').append('<img src="'+srcImgOn+'" '+psrcImgSize+'>');
	}} else{
		if('#state#' != ''){
		$('.cmd[data-cmd_uid=#uid#] .iconCmd#uid#').append('<img src="'+srcImgOn+'" '+srcImgSize+'>');
	} else{
		$('.cmd[data-cmd_uid=#uid#] .iconCmd#uid#').append('<img src="'+srcImgOff+'" '+srcImgSize+'>');
	}}
  
		jeedom.cmd.update['#id#'] = function(_options){
		if(jeedom.cmd.normalizeName('#name#') == 'on'){	
		  if(parseInt(_options.display_value) >= 1 ) {
			  $('.cmd[data-cmd_uid=#uid#]').hide();
		  }
          else{
			  $('.cmd[data-cmd_uid=#uid#]').show();
		  }}
          else{
		  if(parseInt(_options.display_value) <= 0 ) {
				$('.cmd[data-cmd_uid=#uid#]').hide();
			}else{
				$('.cmd[data-cmd_uid=#uid#]').show();
		  }}}
        
	jeedom.cmd.update['#id#']({display_value:'#state#'});
	
	$('.cmd[data-cmd_uid=#uid#] .iconCmd#uid#').on('click', function () {
		jeedom.cmd.execute({id: '#id#'});
	});
</script>